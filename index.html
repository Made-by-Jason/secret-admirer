<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secret Admirer - Romantic Mystery Game</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
            height: 100%;
            overflow: hidden;
        }

        html {
            height: 100%;
        }

        .game-container {
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            padding: 15px 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
        }

        .game-title {
            font-size: 24px;
            font-weight: bold;
            color: #8b5cf6;
            margin: 0;
        }

        .stats {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 5px;
            font-weight: 600;
            color: #8b5cf6;
        }

        .map-container {
            flex: 1;
            position: relative;
        }

        #map {
            height: 100%;
            width: 100%;
        }

        .side-menu {
            position: fixed;
            left: -320px;
            top: 0;
            width: 320px;
            height: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 2px 0 20px rgba(0,0,0,0.1);
            z-index: 2000;
            transition: left 0.3s ease;
            display: flex;
            flex-direction: column;
        }

        .side-menu.open {
            left: 0;
        }

        .menu-header {
            padding: 20px;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .menu-title {
            font-size: 20px;
            font-weight: bold;
            margin: 0;
        }

        .close-menu {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 5px;
        }

        .menu-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .menu-section {
            margin-bottom: 30px;
        }

        .menu-section h3 {
            color: #8b5cf6;
            margin: 0 0 15px 0;
            font-size: 16px;
            font-weight: 600;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 8px;
        }

        .menu-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            margin: 8px 0;
            background: #f7fafc;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            width: 100%;
            text-align: left;
        }

        .menu-item:hover {
            background: #fce7f3;
            transform: translateX(5px);
        }

        .menu-item-icon {
            font-size: 20px;
            width: 24px;
            text-align: center;
        }

        .menu-item-text {
            flex: 1;
            font-weight: 500;
            color: #8b5cf6;
        }

        .menu-toggle {
            position: fixed;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.9);
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            cursor: pointer;
            z-index: 1500;
            font-size: 20px;
            transition: all 0.2s;
        }

        .menu-toggle:hover {
            background: white;
            transform: translateY(-50%) scale(1.1);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 10px;
        }

        .stat-card {
            background: #fce7f3;
            padding: 12px;
            border-radius: 8px;
            text-align: center;
        }

        .stat-value {
            font-size: 18px;
            font-weight: bold;
            color: #8b5cf6;
        }

        .stat-label {
            font-size: 12px;
            color: #a855f7;
            margin-top: 4px;
        }

        .love-note-item {
            display: flex;
            flex-direction: column;
            gap: 10px;
            padding: 15px;
            background: linear-gradient(135deg, #fce7f3, #f3e8ff);
            border-radius: 12px;
            margin: 10px 0;
            border-left: 4px solid #8b5cf6;
        }

        .note-header {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .note-icon {
            font-size: 18px;
        }

        .note-title {
            font-weight: 600;
            color: #8b5cf6;
            font-size: 14px;
        }

        .note-content {
            font-style: italic;
            color: #6b46c1;
            font-size: 13px;
            line-height: 1.4;
            padding-left: 28px;
        }

        .btn {
            background: #8b5cf6;
            color: white;
            border: none;
            padding: 12px 16px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
            transition: all 0.2s;
        }

        .btn:hover {
            background: #7c3aed;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(139, 92, 246, 0.4);
        }

        .btn:disabled {
            background: #a0aec0;
            cursor: not-allowed;
            transform: none;
        }

        .status-panel {
            position: absolute;
            bottom: 20px;
            left: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            padding: 15px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            z-index: 1000;
        }

        .status-text {
            margin: 0;
            color: #8b5cf6;
            font-weight: 500;
        }

        .love-note-notification {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #fce7f3, #f3e8ff);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 2000;
            text-align: center;
            display: none;
            animation: noteAppear 0.5s ease-out;
            max-width: 90%;
            max-height: 80%;
            overflow-y: auto;
        }

        @keyframes noteAppear {
            from {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.5);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }

        .note-notification-title {
            font-size: 24px;
            font-weight: bold;
            color: #8b5cf6;
            margin: 0 0 15px 0;
        }

        .note-notification-content {
            font-size: 16px;
            color: #6b46c1;
            margin: 0 0 20px 0;
            line-height: 1.6;
            font-style: italic;
            max-width: 400px;
        }

        .close-note {
            background: #8b5cf6;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
        }

        .loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            z-index: 1500;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #8b5cf6, #a855f7);
            transition: width 0.3s ease;
            width: 0%;
        }

        @media (max-width: 768px) {
            .header {
                padding: 10px 15px;
            }
            
            .game-title {
                font-size: 20px;
            }
            
            .stats {
                gap: 15px;
            }
            
            .status-panel {
                bottom: 10px;
                left: 10px;
                right: 10px;
            }

            .side-menu {
                width: 300px;
                left: -300px;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <h1 class="game-title">üíï Secret Admirer</h1>
            <div class="stats">
                <div class="stat-item">
                    <span>üíå</span>
                    <span id="notesFound">0/6</span>
                </div>
                <div class="stat-item">
                    <span>üíñ</span>
                    <span id="progressPercent">0%</span>
                </div>
            </div>
        </div>

        <!-- Menu Toggle Button -->
        <button class="menu-toggle" id="menuToggle">üíï</button>

        <!-- Side Menu -->
        <div class="side-menu" id="sideMenu">
            <div class="menu-header">
                <h2 class="menu-title">Love Story</h2>
                <button class="close-menu" id="closeMenu">√ó</button>
            </div>
            <div class="menu-content">
                <!-- Game Actions Section -->
                <div class="menu-section">
                    <h3>üíï Mystery Actions</h3>
                    <button class="menu-item" id="menuLocateBtn">
                        <span class="menu-item-icon">üìç</span>
                        <span class="menu-item-text">Find My Location</span>
                    </button>
                    <button class="menu-item" id="menuNewGameBtn">
                        <span class="menu-item-icon">üîÑ</span>
                        <span class="menu-item-text">Start New Mystery</span>
                    </button>
                    <button class="menu-item" id="centerMapBtn">
                        <span class="menu-item-icon">üéØ</span>
                        <span class="menu-item-text">Center Map on Me</span>
                    </button>
                </div>

                <!-- Progress Section -->
                <div class="menu-section">
                    <h3>üìä Mystery Progress</h3>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value" id="menuNotesFound">0</div>
                            <div class="stat-label">Love Notes Found</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="menuProgressPercent">0%</div>
                            <div class="stat-label">Story Revealed</div>
                        </div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                </div>

                <!-- Love Notes Collection -->
                <div class="menu-section">
                    <h3>üíå Discovered Love Notes</h3>
                    <div id="loveNotesList">
                        <p style="color: #a855f7; font-style: italic; text-align: center;">No love notes discovered yet...</p>
                    </div>
                </div>

                <!-- Game Info Section -->
                <div class="menu-section">
                    <h3>‚ÑπÔ∏è About This Mystery</h3>
                    <button class="menu-item" id="howToPlayBtn">
                        <span class="menu-item-icon">‚ùì</span>
                        <span class="menu-item-text">How to Play</span>
                    </button>
                    <button class="menu-item" id="aboutBtn">
                        <span class="menu-item-icon">üìñ</span>
                        <span class="menu-item-text">About the Game</span>
                    </button>
                </div>
            </div>
        </div>

        <div class="map-container">
            <div id="map"></div>

            <div class="status-panel">
                <p class="status-text" id="statusText">Welcome to Secret Admirer! Someone has left love notes for you to discover. Allow location access to begin this romantic mystery...</p>
            </div>

            <div class="loading" id="loadingPanel" style="display: none;">
                <p>üíï Finding your location...</p>
            </div>
        </div>
    </div>

    <div class="love-note-notification" id="loveNoteNotification">
        <h2 class="note-notification-title" id="noteTitle">üíå Love Note Discovered!</h2>
        <p class="note-notification-content" id="noteContent">You found a secret message...</p>
        <button class="close-note" onclick="closeLoveNoteNotification()">Keep This Memory üíï</button>
    </div>

    <script>
        let map;
        let playerMarker;
        let loveNotes = [];
        let discoveredNotes = 0;
        let lastPosition = null;
        let watchId = null;
        let discoveredCollection = [];

        // Love notes with progressive romantic content
        const loveNoteTypes = [
            {
                title: "First Glance",
                content: "I still remember the first time I saw you... The way you smiled lit up the entire room. I knew in that moment that you were someone special, someone who would change my world forever. üí´",
                icon: "üëÄ"
            },
            {
                title: "Daily Thoughts",
                content: "Every morning I wake up thinking about you. Your laugh echoes in my mind throughout the day. I find myself smiling at random moments, just remembering our conversations. You've become my favorite thought. ‚òÄÔ∏è",
                icon: "üí≠"
            },
            {
                title: "Secret Wishes",
                content: "I wish I could tell you how I feel, but the words get stuck in my throat every time I see you. You make me nervous in the most wonderful way. I practice what I'd say to you, but you always surprise me and I forget everything. üåô",
                icon: "‚≠ê"
            },
            {
                title: "Hidden Feelings",
                content: "I've been hiding these feelings for so long, but they've only grown stronger. Every time you're near, my heart races. I wonder if you can hear it beating when we're close. You're my secret happiness. üíì",
                icon: "üíù"
            },
            {
                title: "Dreams of Us",
                content: "I dream about what it would be like to hold your hand, to tell you everything I'm feeling. In my dreams, we walk together, laugh together, and I finally find the courage to say those three little words that mean everything. ‚ú®",
                icon: "üí´"
            },
            {
                title: "My Confession",
                content: "I can't hide it anymore... I love you. I love your kindness, your intelligence, the way you see the world. I love how you make me want to be a better person. This game was my way of finally telling you what's been in my heart all along. Will you be mine? üíï",
                icon: "üíñ"
            }
        ];

        function initializeGame() {
            // Initialize map centered on a default location
            map = L.map('map').setView([40.7128, -74.0060], 18);

            // Add tile layer
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '¬© OpenStreetMap contributors'
            }).addTo(map);

            // Request location permission
            requestLocation();

            // Set up event listeners
            document.getElementById('menuToggle').addEventListener('click', toggleMenu);
            document.getElementById('closeMenu').addEventListener('click', closeMenu);
            document.getElementById('menuLocateBtn').addEventListener('click', () => { requestLocation(); closeMenu(); });
            document.getElementById('menuNewGameBtn').addEventListener('click', () => { startNewGame(); closeMenu(); });
            document.getElementById('centerMapBtn').addEventListener('click', () => { centerMapOnPlayer(); closeMenu(); });
            document.getElementById('howToPlayBtn').addEventListener('click', () => { showHowToPlay(); closeMenu(); });
            document.getElementById('aboutBtn').addEventListener('click', () => { showAbout(); closeMenu(); });
        }

        function requestLocation() {
            if (!navigator.geolocation) {
                updateStatus("‚ùå Geolocation is not supported by this browser.");
                return;
            }

            document.getElementById('loadingPanel').style.display = 'block';
            updateStatus("üíï Finding your location to place the love notes...");

            navigator.geolocation.getCurrentPosition(
                (position) => {
                    document.getElementById('loadingPanel').style.display = 'none';
                    initializePlayerLocation(position);
                    startLocationTracking();
                },
                (error) => {
                    document.getElementById('loadingPanel').style.display = 'none';
                    handleLocationError(error);
                },
                {
                    enableHighAccuracy: true,
                    timeout: 10000,
                    maximumAge: 60000
                }
            );
        }

        function initializePlayerLocation(position) {
            const lat = position.coords.latitude;
            const lng = position.coords.longitude;

            // Center map on player location with high zoom for apartment-scale
            map.setView([lat, lng], 19);

            // Create or update player marker
            if (playerMarker) {
                playerMarker.setLatLng([lat, lng]);
            } else {
                playerMarker = L.marker([lat, lng], {
                    icon: L.divIcon({
                        html: '<div style="background: #8b5cf6; width: 16px; height: 16px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 8px rgba(0,0,0,0.3);"></div>',
                        iconSize: [16, 16],
                        className: 'player-marker'
                    })
                }).addTo(map);
            }

            // Generate love notes around player (apartment-scale)
            if (loveNotes.length === 0) {
                generateLoveNotes(lat, lng);
            }

            lastPosition = { lat, lng };
            updateStatus("üíï Your secret admirer has hidden 6 love notes within just a few steps of where you're standing. Move around your current spot to discover them!");
        }

        function startLocationTracking() {
            if (watchId) {
                navigator.geolocation.clearWatch(watchId);
            }

            watchId = navigator.geolocation.watchPosition(
                updatePlayerPosition,
                handleLocationError,
                {
                    enableHighAccuracy: true,
                    timeout: 5000,
                    maximumAge: 15000
                }
            );
        }

        function updatePlayerPosition(position) {
            const lat = position.coords.latitude;
            const lng = position.coords.longitude;

            // Update player marker
            if (playerMarker) {
                playerMarker.setLatLng([lat, lng]);
            }

            // Check for nearby love notes
            checkNearbyLoveNotes(lat, lng);

            lastPosition = { lat, lng };
        }

        function generateLoveNotes(centerLat, centerLng) {
            const radius = 0.00008; // Very tiny radius - about 8-10 meters maximum

            for (let i = 0; i < 6; i++) {
                // Generate positions in a very small circle around the player
                const angle = (i * 60) * (Math.PI / 180); // Evenly distribute around circle
                const distance = (0.3 + Math.random() * 0.7) * radius; // Random distance within tiny radius
                
                const lat = centerLat + (distance * Math.cos(angle));
                const lng = centerLng + (distance * Math.sin(angle));

                const noteType = loveNoteTypes[i];
                
                const loveNote = {
                    id: i,
                    lat: lat,
                    lng: lng,
                    type: noteType,
                    discovered: false,
                    marker: null
                };

                // Create love note marker
                loveNote.marker = L.marker([lat, lng], {
                    icon: L.divIcon({
                        html: `<div style="font-size: 20px; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); animation: pulse 2s infinite;">${noteType.icon}</div>`,
                        iconSize: [24, 24],
                        className: 'love-note-marker'
                    })
                }).addTo(map);

                loveNote.marker.bindPopup(`
                    <div style="text-align: center;">
                        <strong>üíå ${noteType.title}</strong><br>
                        <small>Walk closer to discover this love note!</small>
                    </div>
                `);

                loveNotes.push(loveNote);
            }

            updateStatus(`üíï 6 love notes are hidden within just a few steps of you. Move around your current spot to discover your admirer's secret feelings!`);
        }

        function checkNearbyLoveNotes(playerLat, playerLng) {
            loveNotes.forEach(note => {
                if (!note.discovered) {
                    const distance = calculateDistance(playerLat, playerLng, note.lat, note.lng);
                    
                    if (distance <= 5) { // 5 meter proximity - very close range
                        discoverLoveNote(note);
                    }
                }
            });
        }

        function discoverLoveNote(note) {
            note.discovered = true;
            discoveredNotes++;
            
            // Add to discovered collection
            discoveredCollection.push({
                title: note.type.title,
                content: note.type.content,
                icon: note.type.icon,
                timestamp: new Date()
            });

            // Remove note marker from map
            if (note.marker) {
                map.removeLayer(note.marker);
            }

            // Update UI
            updateAllStats();
            updateLoveNotesDisplay();
            
            // Show love note notification
            showLoveNoteNotification(note.type);

            // Update status based on progress
            const remaining = loveNotes.filter(n => !n.discovered).length;
            if (remaining === 0) {
                updateStatus("üíñ You've discovered all the love notes! Your secret admirer's heart has been fully revealed. This beautiful love story is now complete! üíï");
            } else {
                updateStatus(`üíå Love note discovered! ${remaining} more secrets await you. Keep exploring to uncover the full story of their love! üíï`);
            }
        }

        function updateAllStats() {
            const progress = Math.round((discoveredNotes / 6) * 100);
            
            document.getElementById('notesFound').textContent = `${discoveredNotes}/6`;
            document.getElementById('progressPercent').textContent = `${progress}%`;
            document.getElementById('menuNotesFound').textContent = discoveredNotes;
            document.getElementById('menuProgressPercent').textContent = `${progress}%`;
            document.getElementById('progressFill').style.width = `${progress}%`;
        }

        function updateLoveNotesDisplay() {
            const notesList = document.getElementById('loveNotesList');
            
            if (discoveredCollection.length === 0) {
                notesList.innerHTML = '<p style="color: #a855f7; font-style: italic; text-align: center;">No love notes discovered yet...</p>';
                return;
            }

            notesList.innerHTML = discoveredCollection.map(note => `
                <div class="love-note-item">
                    <div class="note-header">
                        <span class="note-icon">${note.icon}</span>
                        <span class="note-title">${note.title}</span>
                    </div>
                    <div class="note-content">"${note.content}"</div>
                </div>
            `).join('');
        }

        function showLoveNoteNotification(noteType) {
            document.getElementById('noteTitle').textContent = `üíå ${noteType.title}`;
            document.getElementById('noteContent').textContent = `"${noteType.content}"`;
            document.getElementById('loveNoteNotification').style.display = 'block';
        }

        function closeLoveNoteNotification() {
            document.getElementById('loveNoteNotification').style.display = 'none';
        }

        function calculateDistance(lat1, lng1, lat2, lng2) {
            const R = 6371e3; // Earth's radius in meters
            const œÜ1 = lat1 * Math.PI/180;
            const œÜ2 = lat2 * Math.PI/180;
            const ŒîœÜ = (lat2-lat1) * Math.PI/180;
            const ŒîŒª = (lng2-lng1) * Math.PI/180;

            const a = Math.sin(ŒîœÜ/2) * Math.sin(ŒîœÜ/2) +
                      Math.cos(œÜ1) * Math.cos(œÜ2) *
                      Math.sin(ŒîŒª/2) * Math.sin(ŒîŒª/2);
            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));

            return R * c;
        }

        function startNewGame() {
            // Clear existing love notes
            loveNotes.forEach(note => {
                if (note.marker) {
                    map.removeLayer(note.marker);
                }
            });

            // Reset game state
            loveNotes = [];
            discoveredNotes = 0;
            discoveredCollection = [];
            
            // Update UI
            updateAllStats();
            updateLoveNotesDisplay();

            // Generate new love notes if we have player location
            if (lastPosition) {
                generateLoveNotes(lastPosition.lat, lastPosition.lng);
            } else {
                requestLocation();
            }
        }

        // Menu Functions
        function toggleMenu() {
            const menu = document.getElementById('sideMenu');
            menu.classList.toggle('open');
        }

        function closeMenu() {
            const menu = document.getElementById('sideMenu');
            menu.classList.remove('open');
        }

        function centerMapOnPlayer() {
            if (lastPosition && map) {
                map.setView([lastPosition.lat, lastPosition.lng], 19);
                updateStatus("üéØ Map centered on your location!");
            } else {
                updateStatus("‚ùå Location not available. Please enable GPS first.");
            }
        }

        function showHowToPlay() {
            updateStatus("‚ùì How to Play: Move just a few steps in different directions from your current spot to discover 6 hidden love notes. Each note reveals more about someone's secret feelings for you!");
        }

        function showAbout() {
            updateStatus("üìñ Secret Admirer - A romantic GPS mystery game where you discover love notes hidden by your secret admirer. Each note reveals deeper feelings and builds to a beautiful confession of love! üíï");
        }

        function handleLocationError(error) {
            let message = "‚ùå Unable to get your location. ";
            
            switch(error.code) {
                case error.PERMISSION_DENIED:
                    message += "Please allow location access to discover the love notes.";
                    break;
                case error.POSITION_UNAVAILABLE:
                    message += "Location information is unavailable.";
                    break;
                case error.TIMEOUT:
                    message += "Location request timed out. Please try again.";
                    break;
                default:
                    message += "An unknown error occurred.";
                    break;
            }
            
            updateStatus(message);
        }

        function updateStatus(message) {
            document.getElementById('statusText').textContent = message;
        }

        // Add CSS animation for pulsing love note markers
        const style = document.createElement('style');
        style.textContent = `
            @keyframes pulse {
                0% { transform: scale(1); }
                50% { transform: scale(1.2); }
                100% { transform: scale(1); }
            }
        `;
        document.head.appendChild(style);

        // Initialize the game when page loads
        document.addEventListener('DOMContentLoaded', initializeGame);

        // Clean up location tracking when page unloads
        window.addEventListener('beforeunload', () => {
            if (watchId) {
                navigator.geolocation.clearWatch(watchId);
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98c9653885e661a9',t:'MTc2MDEzMzY3Ny4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
